<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{Base::Layout(~{::section})}">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Login</title>
</head>

<body>
	<section>
		<div class="container mt-5">
			<div class="card">
				<div class="card-header">
					Login Form
				</div>
				<div class="card-body">
					<form th:action="@{/loginapi/login}" method="post">
						<div class="form-group">
							<label for="email">Username or Email</label>
							<input type="text" class="form-control" id="email" name="email"
								required>
						</div>
						<div class="form-group">
							<label for="password">Password</label>
							<div class="input-group">
								<input type="password" class="form-control" id="password" value="null " name="password">
								<div class="input-group-append">
									<button type="button" class="btn btn-outline-secondary"
										id="togglePassword">Show</button>
								</div>
							</div>
						</div>
						<div class="form-group">
							<div class="form-check">
								<input type="radio" class="form-check-input" name="loginOption" id="loginWithPassword"
									value="password" checked>
								<label class="form-check-label" for="loginWithPassword">Login with Password</label>
							</div>
							<div class="form-check">
								<input type="radio" class="form-check-input" name="loginOption" id="loginWithDOB"
									value="dob">
								<label class="form-check-label" for="loginWithDOB">Login with Date of Birth</label>
							</div>
						</div>
						<div class="form-group" id="dobField" style="display: none;">
							<label for="dob">Date of Birth</label>
							<input type="date" class="form-control" id="dob" name="dob">
						</div>
						<button type="submit" class="btn btn-primary">Login</button>
					</form>
					<hr>
					<div class="text-center">
						<p>Login with:</p>
						<a href="#" class="btn btn-outline-primary">
							<img src="/static/meta-logo.png" alt="Meta Logo" width="20" height="20">
							Login with Meta
						</a>
						<a href="#" class="btn btn-outline-primary">
							<img src="/static/google-logo.png" alt="Google Logo" width="20" height="20">
							Login with Google
						</a>
					</div>

				</div>
			</div>
		</div>

		<!-- Add Bootstrap JS and any custom scripts here -->

		<script>
			// Toggle password visibility
			document.getElementById('togglePassword').addEventListener('click', function () {
				const passwordField = document.getElementById('password');
				const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
				passwordField.setAttribute('type', type);
				this.textContent = type === 'password' ? 'Show' : 'Hide';
			});

			// Show/hide Date of Birth field based on radio button selection
			const dobField = document.getElementById('dobField');
			document.querySelectorAll('[name="loginOption"]').forEach(function (radio) {
				radio.addEventListener('change', function () {
					dobField.style.display = this.value === 'dob' ? 'block' : 'none';
				});
			});
		</script>
	</section>
</body>

</html>